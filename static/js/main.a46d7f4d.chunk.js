(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{76:function(e,t,n){},79:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(52),r=n.n(a),i=n(56),c=n(0),o=n.n(c),s=n(10),l=n.n(s),d=n(135),u=n(134),j=(n(76),n(59)),p=n(137),b=Object(j.a)({palette:{primary:{main:"#00acc1"},secondary:{main:"#fff"},text:{disabled:"#757575"},action:{}},typography:{fontFamily:["sans-serif"].join(","),button:{letterSpacing:"0.09rem"}}}),f=Object(p.a)(b),m=n(34),O=n(31),g=n(15),x=n(123),h=n(125),v=(n(79),n(127)),y=n(48),C=n(5),S=Object(x.a)((function(e){return{root:{flexGrow:1},title:{textAlign:"center",padding:e.spacing(2),color:"#fff",fontWeight:"bold",letterSpacing:"0.2rem",textTransform:"uppercase"}}}));var k=function(){var e=S();return Object(C.jsx)(h.a,{item:!0,className:e.root,children:Object(C.jsx)(v.a,{position:"fixed",children:Object(C.jsx)(y.a,{variant:"h2",className:e.title,children:"Scoreboard"})})})},w=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e}),[e]),t.current},N=function(e){var t={};return o.a.Children.forEach(e,(function(e){var n=e.ref.current;if(n){var a=n.getBoundingClientRect();t[e.key]=a}})),t},I=function(e){var t=e.children,n=Object(c.useState)({}),a=Object(g.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)({}),l=Object(g.a)(s,2),d=l[0],u=l[1],j=w(t);return Object(c.useLayoutEffect)((function(){var e=N(t);i(e)}),[t]),Object(c.useLayoutEffect)((function(){var e=N(j);u(e)}),[j]),Object(c.useEffect)((function(){try{Object.keys(d).length&&o.a.Children.forEach(t,(function(e){var t=e.ref.current,n=d[e.key],a=r[e.key],i=n.top-a.top;i&&window.requestAnimationFrame((function(){t.style.transform="translateY(".concat(i,"px)"),t.style.transition="transform 0s",window.requestAnimationFrame((function(){t.style.transform="",t.style.transition="transform 500ms"}))}))}))}catch(e){console.log("err"),console.error(e)}}),[r,d,t]),t},W=n(128),E=n(129),F=n(131),B=n(130),A=n(58),P=n.n(A),R=n(136),L=Object(x.a)((function(e){return{itemContainer:{textAlign:"center",padding:e.spacing(2),paddingBottom:e.spacing(1),paddingTop:e.spacing(1),position:"relative"},listItem:{backgroundColor:"#fff",border:"3px solid",padding:e.spacing(1),paddingLeft:e.spacing(4),borderRadius:"5px",minHeight:"60px",fontWeight:"bold"},textContainer:{minHeight:"40px",padding:"8px 0"},nameContainer:{display:"inline-block",width:"90px"},input:{padding:"2px 2px",maxWidth:"100px"},scoreContainer:{padding:"10px",marginLeft:"20px",minHeight:"40px"}}})),H=Object(c.forwardRef)((function(e,t){var n=e.player,a=e.activeId,r=e.newScore,i=e.keyUp,c=e.updateScore,o=e.activateScoreInput,s=e.deletePlayer,l=L();return Object(C.jsx)(h.a,{item:!0,xs:12,md:12,ref:t,children:Object(C.jsx)(W.a,{className:l.itemContainer,children:Object(C.jsxs)(E.a,{className:l.listItem,style:{borderColor:n.color},children:[Object(C.jsx)(B.a,{children:Object(C.jsx)(P.a,{onClick:function(){return s(n)},style:{color:n.color}})}),Object(C.jsxs)(F.a,{className:l.textContainer,children:[Object(C.jsx)("span",{className:l.nameContainer,children:n.name}),function(e){return a===e.id?Object(C.jsxs)("span",{className:l.scoreContainer,children:[e.score," +",Object(C.jsx)("span",{children:Object(C.jsx)(R.a,{id:"newscore",type:"number",autoFocus:!0,value:r,onKeyUp:function(){return i()},onChange:function(e){return c(e)},size:"small",InputProps:{classes:{input:l.input}}})})]}):Object(C.jsx)("span",{className:l.scoreContainer,onClick:function(){return o(e)},children:e.score})}(n)]})]})})},n.id)})),T=Object(x.a)((function(e){return{listContainer:{position:"relative",paddingBottom:"100px",top:"100px"}}}));var U=function(e){var t=e.players,n=e.activeId,a=e.activateScoreInput,r=e.keyUp,i=e.deletePlayer,o=e.updateScore,s=e.newScore,l=T();return Object(C.jsx)(h.a,{item:!0,xs:12,md:12,className:l.listContainer,children:Object(C.jsx)(I,{children:t.map((function(e){return Object(C.jsx)(H,{player:e,activeId:n,activateScoreInput:a,keyUp:r,deletePlayer:i,updateScore:o,newScore:s,ref:Object(c.createRef)()},e.id)}))})})},D=n(24),J=n(132),M=Object(x.a)((function(e){return{button:Object(D.a)({marginTop:e.spacing(2),marginBottom:e.spacing(2),minHeight:"50px",minWidth:"60px",color:"#fff",fontWeight:"bold",borderRadius:"0"},e.breakpoints.down("390"),{minWidth:"60px"})}}));var q=function(e){var t=e.title,n=e.color,a=void 0===n?"primary":n,r=e.onClick,i=e.variant,c=(e.fullWidth,e.elevated),o=void 0===c||c,s=e.disabled,l=void 0!==s&&s,d=M();return Object(C.jsx)(J.a,{variant:i,disableElevation:!o,color:a,style:{color:"secondary"===a?"#fff":"#004750"},onClick:r,className:d.button,fullWidth:!0,disabled:l,children:t})},z="board",G=["#060075","#007540","#752200","#750175","#0191B8","#B80000","#F59C00","#F500A0","#91D0F5","#F5D825","#F59292","#00F5C7"],K=Object(x.a)((function(e){return{container:{width:"80%",margin:"auto",position:"relative",top:"100px",padding:e.spacing(2),"& *":{margin:e.spacing(1)}},lengthDisplay:{position:"relative",right:"0",textAlign:"end",margin:"0px"}}}));var Y=function(e){var t=e.name,n=e.setName,a=e.setScore,r=e.savePlayer,i=K();return Object(C.jsxs)(h.a,{item:!0,className:i.container,children:[Object(C.jsx)(R.a,{id:"player-name",label:"Name",type:"text",fullWidth:!0,inputProps:{maxLength:12},onChange:function(e){return n(e.target.value)},style:{marginBottom:"2px"}}),Object(C.jsx)("div",{className:i.lengthDisplay,children:12-t.length}),Object(C.jsx)(R.a,{id:"player-score",label:"Initial score",type:"number",fullWidth:!0,onChange:function(e){return a(e.target.value)}}),Object(C.jsx)(q,{variant:"outlined",disableElevation:!0,onClick:r,title:0===t.length?"Cancel":"Save"})]})},Q=n(133),V=Object(x.a)((function(e){var t;return{footer:(t={top:"auto",bottom:0,padding:e.spacing(2)},Object(D.a)(t,e.breakpoints.down("321"),{padding:e.spacing(1)}),Object(D.a)(t,"minHeight","100px"),t),buttonContainer:{"& button":{margin:e.spacing(1)}}}}));var X=function(e){var t=e.addAction,n=e.addPlayer,a=e.playerCount,r=e.clearBoard,i=e.resetScores,c=V();return Object(C.jsx)(v.a,{position:"fixed",className:c.footer,children:Object(C.jsxs)(Q.a,{className:c.buttonContainer,style:a>0?{margin:"auto"}:{},children:[a>0&&!t&&Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)(q,{variant:"outlined",onClick:r,title:"Clear board",color:"secondary"}),Object(C.jsx)(q,{variant:"outlined",color:"secondary",onClick:i,title:"Reset scores"})]}),!t&&a<12&&Object(C.jsx)(q,{variant:"outlined",color:"secondary",onClick:n,title:"Add player",disabled:12===a,fullWidth:0===a})]})})},Z=Object(x.a)((function(e){return{titleContainer:{textAlign:"center",position:"relative",top:"100px"},container:{height:"100%",position:"relative",minWidth:"360px"}}}));var $=function(){var e=Z(),t=Object(c.useState)([]),n=Object(g.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),s=Object(g.a)(i,2),l=s[0],d=s[1],u=Object(c.useState)(""),j=Object(g.a)(u,2),p=j[0],b=j[1],f=Object(c.useState)(0),x=Object(g.a)(f,2),v=x[0],y=x[1],S=Object(c.useState)(""),w=Object(g.a)(S,2),N=w[0],I=w[1],W=Object(c.useState)(0),E=Object(g.a)(W,2),F=E[0],B=E[1],A=Object(c.useState)(void 0),P=Object(g.a)(A,2),R=P[0],L=P[1],H=Object(c.useState)(Object(O.a)(G)),T=Object(g.a)(H,2),D=T[0],J=T[1];Object(c.useEffect)((function(){var e=localStorage.getItem(z);null===e&&0!==e.length||r(JSON.parse(e))}),[]),Object(c.useEffect)((function(){localStorage.setItem(z,JSON.stringify(a))}),[a]);var M=function(){b(""),y(0)},q=function(){var e=Object(O.a)(D),t=Math.floor(Math.random()*e.length),n=e[t];return e.splice(t,1),J(e),n},K=function(e){var t=e.sort((function(e,t){return t.score-e.score}));r(t)};return Object(C.jsxs)("div",{children:[Object(C.jsx)(k,{}),Object(C.jsxs)(h.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"stretch",className:e.container,children:[!l&&Object(C.jsxs)(o.a.Fragment,{children:[0===a.length&&Object(C.jsx)(h.a,{item:!0,className:e.titleContainer,children:Object(C.jsx)("h2",{children:"Begin by adding players!"})}),Object(C.jsx)(U,{players:a,activeId:F,activateScoreInput:function(e){B(e.id)},keyUp:function(){void 0!==R&&clearTimeout(R);var e=parseInt(N),t=setTimeout((function(){L(void 0);var t=a.map((function(t){return t.id===F?Object(m.a)(Object(m.a)({},t),{},{score:parseInt(t.score)+(isNaN(e)?0:e)}):t}));K(t),B(0),I("")}),750);L(t)},updateScore:function(e){I(e.target.value)},newScore:N,deletePlayer:function(e){var t=a.filter((function(t){return t.id!==e.id}));r(t)}})]}),l&&Object(C.jsx)(Y,{name:p,setName:b,setScore:y,savePlayer:function(){if(d(!1),0!==p.trim().length){var e={id:a.length+1,name:p,score:v,color:q()};v>0?K([].concat(Object(O.a)(a),[e])):r([].concat(Object(O.a)(a),[e])),M()}else M()}})]}),Object(C.jsx)(X,{addPlayer:function(){a.length<12&&(B(0),d(!0))},addAction:l,playerCount:a.length,clearBoard:function(){J(Object(O.a)(G)),B(0),r([])},resetScores:function(){var e=a.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{score:0})}));r(e)}})]})};l.a.render(Object(C.jsx)(o.a.StrictMode,{children:Object(C.jsxs)(u.a,{theme:f,children:[Object(C.jsx)(d.a,{}),Object(C.jsx)($,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register("sw.js");case 3:t=e.sent,console.log("Service worker registered",t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Service worker registration failed",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))))}},[[88,1,2]]]);
//# sourceMappingURL=main.a46d7f4d.chunk.js.map